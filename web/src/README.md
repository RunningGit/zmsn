# 基础框架 V1.3 版本重构

基础框架代码重构主要是针对 js、css 的规范和业务逻辑代码优化的重构，并新增三级菜单等功能。

## css 代码重构

- css 的命名重构，业务组件中的 css 命名都保持使用'\_'连接，并都以 dsf 字母开头，例：dsf_main，命名尽量用英文名进行语义化
- css 代码冗余，将 scoped 的 less 代码改变成全局 less，以 class 来区分作用域，冲突的部分进行融合，没有使用到的 class（需求的变更导致一些 class 没有及时的删除）全部删除
- css 代码整理，将 css 代码整理到相对应的文件中，例：element 组件的样式覆盖的 css 代码必须放到 my-elementui.less 文件中，目的是为了维护代码的时候方便找到问题并及时修改

## JS 代码重构

- 业务中的 JS 代码全部都要按照 es6 的规范来编写
- xx && xx 该判断条件的方式全部更换成 if 的方式，增加代码的可读性
- 业务组件 data 中的多余的属性全部删除
- 部门组织树的部门节点点击样式更换由操作 dom 的方式变更为 element 中 tree 插件自带的 class 样式来控制
- 组织树的节点查询由原生的 html 变更为 element 的 tree 组件
- 组织树的刷新方式由 if..else 方式刷新树变更为改变组件上的 key 值实现树的刷新，同理业务组件 inputExtends 刷新方式也随之变更
- organization 业务组件弹窗选择人员，如果用户没有选择点击确认需提示'请选择人员'
- 管理员新增页面绑定通讯录人员和管理通讯录权限的树的接口变更，接口不再是查询机构部门的接口而是查询通讯录部门的接口

## 新增功能

- 菜单之前是只支持两级，先更改为可以支持到三级菜单，目录可以挂在目录下，但是菜单仍然不可以挂在菜单下
- SQL 监控页面新增一个选择框，选择框的选项内容查询字典的接口来获取
